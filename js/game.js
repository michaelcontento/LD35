webpackJsonp([1],[function(t,e,r){t.exports=r(4)},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(1),c=n(s),u=r(5),l=n(u),h=r(7),f=n(h),p=r(6),d=n(p),y=function(t){function e(){a(this,e);var t=400,r=734,n=o(this,Object.getPrototypeOf(e).call(this,{width:t,height:r,renderer:c["default"].AUTO,parent:"content",resolution:window.devicePixelRatio}));return n.state.add("Boot",l["default"],!1),n.state.add("Splash",f["default"],!1),n.state.add("Main",d["default"],!1),n.state.start("Boot"),n}return i(e,t),e}(c["default"].Game);e["default"]=y},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.totalSections=3},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var a=r(2),o=n(a);new o["default"]},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(1),c=function(t){function e(){return n(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),i(e,[{key:"create",value:function(){this.game.scale.scaleMode=s.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0}},{key:"preload",value:function(){this.state.start("Splash")}}]),e}(s.State);e["default"]=c},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0});var s,c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=function g(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var a=Object.getPrototypeOf(t);return null===a?void 0:g(a,e,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},l=r(1),h=Symbol["for"]("+"),f=Symbol["for"]("o"),p=(s={},i(s,h,"cross"),i(s,f,"circle"),s),d=function(t){function e(){var t;n(this,e);for(var r=arguments.length,o=Array(r),i=0;r>i;i++)o[i]=arguments[i];var s=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(o)));return s.scale.setTo(.5,.5),s.shape=h,s.game.physics.enable(s,l.Physics.ARCADE),s.text=new l.Text(s.game,s.body.centerX,s.body.centerY,Symbol.keyFor(s.shape)),s.addChild(s.text),s}return o(e,t),c(e,[{key:"update",value:function(){u(Object.getPrototypeOf(e.prototype),"update",this).call(this),this.text.setText(Symbol.keyFor(this.shape))}}]),e}(l.Sprite),y=function(t){function e(t,r,o,i,s){var c;n(this,e);for(var u=arguments.length,h=Array(u>5?u-5:0),f=5;u>f;f++)h[f-5]=arguments[f];var d=a(this,(c=Object.getPrototypeOf(e)).call.apply(c,[this,r,o,i,p[t]].concat(h)));return d.scale.setTo(.5,.5),d.shape=t,d.strength=100,d.game.physics.enable(d,l.Physics.ARCADE),d.body.immovable=!0,d}return o(e,t),e}(l.Sprite),b=function(t){function e(){return n(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),c(e,[{key:"create",value:function(){this.game.physics.startSystem(l.Physics.ARCADE),this.stage.backgroundColor="#63D1F4";for(var t=0;t<this.game.world.height;t+=100)this.game.add.text(1,t,t,{fill:"lightgray"});var e=this.game.world.centerX,r=this.game.world.height/10*9;this.boat=this.game.add.existing(new d(this.game,e,r,"boat")),this.game.camera.follow(this.boat,l.Camera.FOLLOW_LOCKON),this.cursors=this.game.input.keyboard.createCursorKeys(),this.spaceBar=this.game.input.keyboard.addKey(l.Keyboard.SPACEBAR),this.debounceUp=!1,this.debounceSpace=!1,this.attractors=[this.game.add.existing(new y(h,this.game,16,450)),this.game.add.existing(new y(f,this.game,333,250))]}},{key:"_closestAttractor",value:function(t,e){if(0==e.length)return null;var r=e.filter(function(e){return e.y<t.y}).filter(function(e){return e.shape===t.shape});if(0==r.length)return null;if(1==r.length)return r[0];var n=e.map(function(e){return{distance:t.body.center.distance(e),attractor:e}}).sort(function(t,e){var r=t.distance,n=e.distance;return r-n}).map(function(t){var e=t.attractor;return e});return n[0]}},{key:"_restart",value:function(){this.state.start("Main")}},{key:"_collisionHandler",value:function(t,e){this.game.stage.backgroundColor="#992d2d";var r=this.game.add.text(this.game.world.centerY,this.game.world.centerY,"DESTROYED BY IMPACT :(");r.anchor.x=1;var n=this.game.add.button(r.width*-.5,r.height,"restart",this._restart,this);n.scale.setTo(.3),r.addChild(n)}},{key:"_winHandler",value:function(){this.game.stage.backgroundColor="#4CBB17";var t=this.game.add.text(this.game.world.centerY,this.game.world.centerY,"YOU ARE A WINNER :)");t.anchor.x=1;var e=this.game.add.button(t.width*-.5,t.height,"restart",this._restart,this);e.scale.setTo(.3),t.addChild(e),this.boat.body.velocity.x=0,this.boat.body.velocity.y=0}},{key:"update",value:function(){this.game.physics.arcade.collide(this.boat,this.attractors,this._collisionHandler,null,this),this.spaceBar.isDown&&!this.debounceSpace?(console.log("SHIFT"),this.boat.shape===h?this.boat.shape=f:this.boat.shape=h,this.debounceSpace=!0):this.spaceBar.isUp&&this.debounceSpace&&(this.debounceSpace=!1);var t=this._closestAttractor(this.boat,this.attractors);t?(console.log(t.shape),this.game.physics.arcade.moveToXY(this.boat,t.x,t.y,t.strength)):this.boat.y>10?this.game.physics.arcade.moveToXY(this.boat,this.boat.x,0,100):this._winHandler()}},{key:"render",value:function(){this.game.debug.text("space bar to shift shape",32,32)}}]),e}(l.State);e["default"]=b},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(1),c=r(3),u=function(t){function e(){return n(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),i(e,[{key:"preload",value:function(){this.load.tilemap("start","maps/start.json",null,s.Tilemap.TILED_JSON),this.load.image("roguelikeSheet_transparent","images/roguelikeSheet_transparent.png");for(var t=1;t<=c.totalSections;t++)this.load.tilemap("section-"+t,"maps/section-"+t+".json",null,s.Tilemap.TILED_JSON);this.load.image("boat","images/boat.png"),this.load.image("circle","images/circle.png"),this.load.image("cross","images/cross.png"),this.load.image("plus","images/plus.png"),this.load.image("restart","images/restart.png")}},{key:"create",value:function(){this.state.start("Main")}}]),e}(s.State);e["default"]=u}]);